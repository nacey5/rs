<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dao.OragnizatorDao">
    <cache eviction="FIFO" flushInterval="300000" readOnly="false"></cache>

    <!--Organizer selectInfoByPhoneandPassword(@Param("phone") String phone, @Param("password") String password);-->
    <select id="selectInfoByPhoneandPassword" resultType="org">
        select
            * from user_organization
        where `phone`=#{phone}
          and `password`=#{password}
    </select>


    <!--void addOrg(Organizer org);-->
    <!--头像，姓名，管理者学号，联系手机号码(登陆)，密码，学院-->
    <insert id="addOrg" parameterType="org" useGeneratedKeys="true" keyProperty="id" databaseId="mysql">
        insert into
            user_organization(`name`,`level`,`managercount`,`phone`,`password`,`pic_org`,`collage`)
        values
        (#{name},#{level},#{mangerCount},#{phone},#{password},#{headPortrait},#{collage})
    </insert>

    <!--String getHeadPortrait(@Param("id") Integer id);-->
    <select id="getHeadPortrait" resultType="string">
        select pic_org
        from
            user_organization
        where
            id=#{id}
    </select>



</mapper>